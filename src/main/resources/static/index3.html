<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <!-- http://localhost:8080/index3.html/samsung -->
    <h3> 삼성전자 최근 1년 주가 내역</h3>
    <table border="1">
        <thead>
            <tr>
                <th> 일자 </th> <th> 종가 </th> <th> 대비 </th> <th> 등락률 </th> <th> 시가 </th>
                <th> 고가 </th> <th> 저가 </th> <th> 거래량 </th> <th> 거래대금 </th> <th> 시가총액 </th> <th> 상장주식수 </th>
            </tr>
        </thead>
        <tbody>
        
        </tbody>
    </table>
    <!-- jquery 라이브러리 -->
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>

    <script>
        // Flask 서버에 통신
        $.ajax({
            method : 'get' ,
            url : "http://127.0.0.1:5000/samsung" ,
            success : (r) => {
                console.log(r)
                let tbody = document.querySelector('tbody')
                let html = ``
                r.forEach(dic => {
                    html += `
                        <tr>
                            <th> ${dic.일자} </th> <th> ${dic.종가} </th> <th> ${dic.대비} </th> <th> ${dic.등락률} </th> <th> ${dic.시가} </th>
                            <th> ${dic.고가} </th> <th> ${dic.저가} </th> <th> ${dic.거래량} </th>  <th> ${dic.거래대금} </th>  <th> ${dic.시가총액} </th>  <th> ${dic.상장주식수} </th>
                        </tr>
                    `
                });
                tbody.innerHTML = html;
            }
        })
    </script>
</body>
</html>